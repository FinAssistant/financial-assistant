# Story 1.1: Project Setup and Development Environment

## Status
Approved

## Story
**As a** developer,
**I want** a properly configured monorepo with Python backend and React frontend,
**so that** I can develop features efficiently with hot reloading and proper tooling.

## Acceptance Criteria

1. Monorepo structure with clear backend/frontend separation
2. Python FastAPI backend with basic health check endpoint
3. React frontend with basic routing and component structure
4. Docker setup for consistent development environment
5. Environment variable configuration (.env support)
6. README with setup instructions

## Tasks / Subtasks

- [ ] **Task 1: Create Monorepo Structure** (AC: 1)
  - [ ] Create `frontend/` directory for React TypeScript application
  - [ ] Create `backend/` directory for Python FastAPI application
  - [ ] Create `scripts/` directory for development scripts
  - [ ] Create root-level configuration files (.gitignore, README.md)
  - [ ] Set up `docs/` directory structure

- [ ] **Task 2: Set up Python Backend with FastAPI** (AC: 2, 5)
  - [ ] Create `backend/app/main.py` with FastAPI application entry point
  - [ ] Create `backend/app/core/config.py` for application configuration
  - [ ] Implement basic health check endpoint at `/health`
  - [ ] Set up `backend/pyproject.toml` with UV dependency management
  - [ ] Create `.env.example` with required environment variables
  - [ ] Configure environment variable loading in config.py

- [ ] **Task 3: Set up React Frontend** (AC: 3)
  - [ ] Initialize React TypeScript project with Vite in `frontend/`
  - [ ] Configure `frontend/vite.config.ts` for development
  - [ ] Set up basic routing structure with React Router
  - [ ] Create initial component structure (layout, pages, common)
  - [ ] Configure TypeScript with `frontend/tsconfig.json`
  - [ ] Set up Styled Components for styling architecture

- [ ] **Task 4: Configure Docker Environment** (AC: 4)
  - [ ] Create `Dockerfile` for single container deployment
  - [ ] Configure FastAPI to serve built React files from static directory
  - [ ] Set up development Docker configuration
  - [ ] Create frontend build process that outputs to `backend/app/static/`

- [ ] **Task 5: Create Development Scripts** (AC: 6)
  - [ ] Create `scripts/dev-setup.sh` for initial environment setup
  - [ ] Create `scripts/start-dev.sh` for starting development servers
  - [ ] Create `scripts/build-frontend.sh` for building and copying frontend
  - [ ] Make scripts executable and cross-platform compatible

- [ ] **Task 6: Documentation and Testing** (AC: 6)
  - [ ] Create comprehensive README.md with setup instructions
  - [ ] Document development workflow and scripts usage
  - [ ] Set up basic backend tests with pytest
  - [ ] Set up basic frontend tests with Jest and Testing Library
  - [ ] Create `scripts/run-tests.sh` for running all tests

## Dev Notes

### Previous Story Insights
No previous story exists - this is the foundation story.

### Technical Stack Requirements
[Source: architecture/tech-stack.md]
- **Frontend**: React 18.2.x with TypeScript 5.3.x
- **Frontend Build Tool**: Vite 5.0.x with esbuild bundling
- **UI Components**: Styled Components 6.1.x for component styling
- **State Management**: Redux Toolkit 1.9.x (prepare foundation)
- **Backend**: Python 3.11.x with FastAPI 0.104.x
- **Package Manager**: UV for Python dependency management
- **Container**: Docker 24.x for development consistency
- **Testing**: Jest + Testing Library (frontend), Pytest + httpx (backend)

### Project Structure Requirements
[Source: architecture/unified-project-structure.md]
The monorepo must follow this exact structure:
```
ai-financial-assistant/
├── frontend/                    # React TypeScript application
│   ├── src/
│   │   ├── components/         # React components organized by feature
│   │   ├── store/             # Redux store configuration
│   │   ├── pages/             # Page components
│   │   ├── hooks/             # Custom React hooks
│   │   ├── utils/             # Frontend utilities
│   │   ├── types/             # TypeScript type definitions
│   │   └── styles/            # Global styles and themes
│   ├── dist/                  # Built frontend files
│   ├── package.json
│   ├── vite.config.ts
│   └── tsconfig.json
├── backend/                    # Python FastAPI application
│   ├── app/
│   │   ├── main.py           # FastAPI entry + static file serving
│   │   ├── core/             # Core configuration
│   │   │   ├── config.py     # Application configuration
│   │   │   └── database.py   # In-memory data store (POC)
│   │   └── static/           # Built frontend files location
│   ├── tests/                # Backend tests
│   ├── pyproject.toml        # UV dependency management
│   └── uv.lock              # UV lock file
├── scripts/                  # Development scripts
├── Dockerfile               # Single container configuration
└── README.md
```

### Coding Standards Requirements
[Source: architecture/coding-standards.md]
- **Environment Variables**: Access only through config objects, never process.env directly
- **Error Handling**: All API routes must use standard error handler
- **Naming Conventions**: 
  - Frontend components: PascalCase
  - Python functions: snake_case
  - API routes: kebab-case

### File Creation Locations
Based on project structure:
- Main FastAPI app: `backend/app/main.py`
- Configuration: `backend/app/core/config.py`
- React entry: `frontend/src/main.tsx`
- Vite config: `frontend/vite.config.ts`
- Docker: `./Dockerfile` (root level)
- Scripts: `scripts/*.sh`
- Documentation: `./README.md` (root level)

### Technical Constraints
- FastAPI must serve built React files from static directory
- Single Docker container for simplified deployment
- Environment variables managed through .env files
- No database setup required (in-memory storage for POC)
- Frontend build output must go to `backend/app/static/`

### Testing Requirements
[Source: architecture/testing-strategy.md]
- Frontend tests in `frontend/src/components/__tests__/`
- Backend tests in `backend/tests/`
- Use Jest + Testing Library for React components
- Use Pytest + httpx for FastAPI endpoints
- Test organization must follow testing pyramid pattern

## Testing

### Test File Locations
[Source: architecture/testing-strategy.md]
- Frontend unit tests: `frontend/src/components/__tests__/`
- Backend unit tests: `backend/tests/`
- Integration tests: `backend/tests/integration/`

### Testing Standards
- Frontend: Jest + @testing-library/react for component testing
- Backend: Pytest with httpx AsyncClient for API testing
- All tests must be runnable via `scripts/run-tests.sh`
- Components must have basic render tests
- API endpoints must have status code and response format tests

### Testing Frameworks and Patterns
- Use Provider wrapper for Redux store in frontend tests
- Use AsyncClient pattern for backend API tests
- Follow testing pyramid: more unit tests, fewer integration tests
- Test configuration and environment variable loading

### Specific Testing Requirements
- Health check endpoint must have status 200 test
- React app must render without crashing test
- Environment configuration loading test
- Docker container build test (basic smoke test)

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| [Current Date] | 1.0 | Initial story creation | Scrum Master |

## Dev Agent Record

*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be filled by dev agent*

### Debug Log References  
*To be filled by dev agent*

### Completion Notes List
*To be filled by dev agent*

### File List
*To be filled by dev agent*

## QA Results

*This section will be populated by the QA Agent after story completion*